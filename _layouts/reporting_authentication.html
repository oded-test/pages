---
layout: default
---
<div class="pure-u-5-5">
	<header>
		<h1>Authentication</h1>
	</header>
	<p>
		The API is structured as a POST to an HTTPS endpoint, with JSON as the payload. We require the Content-Type header to be set to 'application/json'.
	</p>
	<p>
		Access to the API requires a private (secret) and public key (token) pair which will be provided by the Nativo team. Authentication requires that the following custom headers be set on each request:
	</p>
	<ul>
		<li>nativo-token: &lt;public_key&gt; (provided by nativo)</li>
		<li>nativo-timestamp: &lt;unix_timestamp&gt; (generated by the user)</li>
		<li>nativo-hash: &lt;hashed secret key&gt; (see example below)</li>
	</ul>
	<p>
		The nativo-hash is an HMAC generated from the concatenation of the private key and the timestamp (in hexadecimal representation). That specific key (the HMAC) can either be generated for every request or be used repeatedly on sequential requests. The key will invalidate automatically within 5 minutes. This process provides an additional level of security on top of HTTPS and ensures that specific headers cannot be used after that window of time has passed. 
	</p>

	<h2>Sample</h2>

	<div class="language-picker">
		{% include language_selector.html %}
		<div class="code">
			<pre class="curl"><code>nativo_token=PUBLIC_KEY
nativo_secret=SECRET_KEY
nativo_timestamp=$(date +%s)
nativo_hash=$(echo -n "$nativo_secret$(date +%s)" | openssl dgst -sha256 -hmac $nativo_token)</code></pre>
			<pre class="python"><code>import nativo

nativo.api_key = 'API_KEY'
nativo.api_secret = 'API_SECRET'
</code></pre>	
		</div>
	</div>
</div>