<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css"></link>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/atom-one-dark.min.css">
<link rel="stylesheet" type="text/css" href="/css/main.css"></link>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
</head>
<body>
	<div id="container" class="pure-g">
		<div id="nav" class="pure-u">
			<a class="logo" href="/"><img src="http://www.nativo.net/v2/img/global/nativo_logo.png" alt="Nativo logo" style="width: 140px"></a>

<ul class="main">
	<li class="">
		<a href="/">Overview</a>
	</li>
	<li class="active">
		<a href="/api/reporting/libraries">Reporting API</a>
		<ul>
			<li class=""><a href="/api/reporting/libraries">API Libraries</a></li>
			<li class="active"><a href="/api/reporting/authentication">Authentication</a></li>
			<li class=""><a href="/api/reporting/advertisers">Advertisers</a></li>
			<li class=""><a href="/api/reporting/campaigns">Campaigns</a></li>
			<li class=""><a href="/api/reporting/direct">Direct Report</a></li>
			<li class=""><a href="/api/reporting/managed">Managed Report</a></li>
			<li class=""><a href="/api/reporting/preferred">Preferred Report</a></li>
			<li class=""><a href="/api/reporting/marketplace">Marketplace Report</a></li>
			<li class=""><a href="/api/reporting/metrics">Report Metrics</a></li>
			<li class=""><a href="/api/reporting/entities">Report Entities</a></li>
		</ul>
	</li>
	<li class="">
		<a href="/api/ad-server">Ad Server API</a>
		<ul>
			<li class=""><a href="/api/ad-server/content-service">Content Service</a></li>
			<li class=""><a href="/api/ad-server/index-service">Index Service</a></li>
		</ul>
	</li>
	<li class="">
		<a href="/api/ssp-api">SSP API</a>
		<ul>
			<li class=""><a href="/api/ssp-api/overview">Overview</a></li>
			<li class=""><a href="/api/ssp-api/bid-request">Bid Request</a></li>
			<li class=""><a href="/api/ssp-api/bid-response">Bid Response</a></li>
		</ul>
	</li>
	<li class="">
		<a href="/onboarding">Publisher Integration</a>
		<ul>
			<li class=""><a href="/onboarding/web">Web</a></li>
			<li class=""><a href="/onboarding/mobile-sdk">Mobile SDK</a></li>
		</ul>
	</li>
</ul>
		</div>
		<div id="content" class="pure-u">
			<div class="pure-g">
				<div class="pure-u-5-5">
	<header>
		<h1>Authentication</h1>
	</header>
	<p>
		The API is structured as a POST to an HTTPS endpoint, with JSON as the payload. We require the Content-Type header to be set to 'application/json'.
	</p>
	<p>
		Access to the API requires a private (secret) and public key (token) pair which will be provided by the Nativo team. Authentication requires that the following custom headers be set on each request:
	</p>
	<ul>
		<li>nativo-token: &lt;public_key&gt; (provided by nativo)</li>
		<li>nativo-timestamp: &lt;unix_timestamp&gt; (generated by the user)</li>
		<li>nativo-hash: &lt;hashed secret key&gt; (see example below)</li>
	</ul>
	<p>
		The nativo-hash is an HMAC generated from the concatenation of the private key and the timestamp (in hexadecimal representation). That specific key (the HMAC) can either be generated for every request or be used repeatedly on sequential requests. The key will invalidate automatically within 5 minutes. This process provides an additional level of security on top of HTTPS and ensures that specific headers cannot be used after that window of time has passed. 
	</p>

	<h2>Sample</h2>

	<div class="language-picker">
		<div class="languages">
    <a data-language="python">Python</a>
    <a data-language="curl">CURL</a>
</div>
		<div class="code">
			<pre class="curl"><code>nativo_token=PUBLIC_KEY
nativo_secret=SECRET_KEY
nativo_timestamp=$(date +%s)
nativo_hash=$(echo -n "$nativo_secret$(date +%s)" | openssl dgst -sha256 -hmac $nativo_token)</code></pre>
			<pre class="python"><code>import nativo

nativo.api_key = 'API_KEY'
nativo.api_secret = 'API_SECRET'
</code></pre>	
		</div>
	</div>
</div>
			</div>
		</div>
	</div>
	<script src="/js/main.js"></script>
</body>
</html>
